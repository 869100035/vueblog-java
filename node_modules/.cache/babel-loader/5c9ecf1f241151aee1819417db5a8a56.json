{"remainingRequest":"/Users/zhangliang/vueWorkspace/vueblog/vueblog-vue/node_modules/thread-loader/dist/cjs.js!/Users/zhangliang/vueWorkspace/vueblog/vueblog-vue/node_modules/babel-loader/lib/index.js!/Users/zhangliang/vueWorkspace/vueblog/vueblog-vue/src/axios.js","dependencies":[{"path":"/Users/zhangliang/vueWorkspace/vueblog/vueblog-vue/src/axios.js","mtime":1640843168911},{"path":"/Users/zhangliang/vueWorkspace/vueblog/vueblog-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhangliang/vueWorkspace/vueblog/vueblog-vue/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhangliang/vueWorkspace/vueblog/vueblog-vue/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBFbGVtZW50IGZyb20gJ2VsZW1lbnQtdWknOwppbXBvcnQgcm91dGVyIGZyb20gJy4vcm91dGVyJzsKaW1wb3J0IHN0b3JlIGZyb20gJy4vc3RvcmUnOwppbXBvcnQgcXMgZnJvbSAncXMnOwpheGlvcy5kZWZhdWx0cy5iYXNlVVJMID0gImh0dHA6Ly8xMDYuNTQuMTcxLjE1Mjo4MDgxIjsgLy8g5YmN572u5oum5oiqCgpheGlvcy5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoZnVuY3Rpb24gKGNvbmZpZykgewogIC8vIGNvbmZpZy5oZWFkZXJzWyJDb250ZW50LVR5cGUiXSA9ICJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiOwogIC8vIGNvbmZpZy5kYXRhID0gcXMuc3RyaW5naWZ5KGNvbmZpZy5kYXRhKTsKICByZXR1cm4gY29uZmlnOwp9KTsKYXhpb3MuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZShmdW5jdGlvbiAocmVzcG9uc2UpIHsKICB2YXIgcmVzID0gcmVzcG9uc2UuZGF0YTsKICBjb25zb2xlLmxvZygiPT09PT09PT09PT09PT09PT0iKTsKICBjb25zb2xlLmxvZyhyZXMpOwogIGNvbnNvbGUubG9nKCI9PT09PT09PT09PT09PT09PSIpOwoKICBpZiAocmVzLmNvZGUgPT09IDIwMCkgewogICAgcmV0dXJuIHJlc3BvbnNlOwogIH0gZWxzZSB7CiAgICAvL0VsZW1lbnQuTWVzc2FnZS5lcnJvcign6ZSZ5LqG5ZOm77yM6L+Z5piv5LiA5p2h6ZSZ6K+v5raI5oGvJywge2R1cmF0aW9uOiAzICogMTAwMH0pCiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QocmVzcG9uc2UuZGF0YS5tc2cpOwogIH0KfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgY29uc29sZS5sb2coZXJyb3IpOwoKICBpZiAoZXJyb3IucmVzcG9uc2UuZGF0YSkgewogICAgZXJyb3IubWVzc2FnZSA9IGVycm9yLnJlc3BvbnNlLmRhdGEubXNnOwogIH0KCiAgaWYgKGVycm9yLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDAxKSB7CiAgICBzdG9yZS5jb21taXQoIlJFTU9WRV9JTkZPIik7CiAgICByb3V0ZXIucHVzaCgiL2xvZ2luIik7CiAgfQoKICBFbGVtZW50Lk1lc3NhZ2UuZXJyb3IoZXJyb3IubWVzc2FnZSwgewogICAgZHVyYXRpb246IDMgKiAxMDAwCiAgfSk7CiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKfSk7"},{"version":3,"sources":["/Users/zhangliang/vueWorkspace/vueblog/vueblog-vue/src/axios.js"],"names":["axios","Element","router","store","qs","defaults","baseURL","interceptors","request","use","config","response","res","data","console","log","code","Promise","reject","msg","error","message","status","commit","push","Message","duration"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,YAApB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAOC,EAAP,MAAe,IAAf;AAGAJ,KAAK,CAACK,QAAN,CAAeC,OAAf,GAAyB,4BAAzB,C,CAEA;;AACAN,KAAK,CAACO,YAAN,CAAmBC,OAAnB,CAA2BC,GAA3B,CAA+B,UAAAC,MAAM,EAAI;AACrC;AACA;AACF,SAAOA,MAAP;AACD,CAJD;AAMAV,KAAK,CAACO,YAAN,CAAmBI,QAAnB,CAA4BF,GAA5B,CAAgC,UAAAE,QAAQ,EAAI;AACxC,MAAIC,GAAG,GAAGD,QAAQ,CAACE,IAAnB;AAEAC,EAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;AACAD,EAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ;AACAE,EAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;;AAEA,MAAIH,GAAG,CAACI,IAAJ,KAAa,GAAjB,EAAsB;AACpB,WAAOL,QAAP;AACD,GAFD,MAEO;AAEL;AAEA,WAAOM,OAAO,CAACC,MAAR,CAAeP,QAAQ,CAACE,IAAT,CAAcM,GAA7B,CAAP;AACD;AACF,CAfH,EAgBE,UAAAC,KAAK,EAAI;AACPN,EAAAA,OAAO,CAACC,GAAR,CAAYK,KAAZ;;AACA,MAAGA,KAAK,CAACT,QAAN,CAAeE,IAAlB,EAAwB;AACtBO,IAAAA,KAAK,CAACC,OAAN,GAAgBD,KAAK,CAACT,QAAN,CAAeE,IAAf,CAAoBM,GAApC;AACD;;AAED,MAAGC,KAAK,CAACT,QAAN,CAAeW,MAAf,KAA0B,GAA7B,EAAkC;AAChCnB,IAAAA,KAAK,CAACoB,MAAN,CAAa,aAAb;AACArB,IAAAA,MAAM,CAACsB,IAAP,CAAY,QAAZ;AACD;;AAEDvB,EAAAA,OAAO,CAACwB,OAAR,CAAgBL,KAAhB,CAAsBA,KAAK,CAACC,OAA5B,EAAqC;AAACK,IAAAA,QAAQ,EAAE,IAAI;AAAf,GAArC;AACA,SAAOT,OAAO,CAACC,MAAR,CAAeE,KAAf,CAAP;AACD,CA7BH","sourcesContent":["import axios from 'axios'\nimport Element from 'element-ui'\nimport router from './router'\nimport store from './store'\nimport qs from 'qs'\n\n\naxios.defaults.baseURL = \"http://106.54.171.152:8081\"\n\n// 前置拦截\naxios.interceptors.request.use(config => {\n    // config.headers[\"Content-Type\"] = \"application/x-www-form-urlencoded\";\n    // config.data = qs.stringify(config.data);\n  return config\n})\n\naxios.interceptors.response.use(response => {\n    let res = response.data;\n\n    console.log(\"=================\")\n    console.log(res)\n    console.log(\"=================\")\n\n    if (res.code === 200) {\n      return response\n    } else {\n\n      //Element.Message.error('错了哦，这是一条错误消息', {duration: 3 * 1000})\n\n      return Promise.reject(response.data.msg)\n    }\n  },\n  error => {\n    console.log(error)\n    if(error.response.data) {\n      error.message = error.response.data.msg\n    }\n\n    if(error.response.status === 401) {\n      store.commit(\"REMOVE_INFO\")\n      router.push(\"/login\")\n    }\n\n    Element.Message.error(error.message, {duration: 3 * 1000})\n    return Promise.reject(error)\n  }\n)\n"]}]}