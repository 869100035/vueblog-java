{"remainingRequest":"/Users/zhangliang/vueWorkspace/vueblog/vueblog-vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhangliang/vueWorkspace/vueblog/vueblog-vue/src/views/BlogEdit.vue?vue&type=style&index=0&id=51bdc0c2&scoped=true&lang=css&","dependencies":[{"path":"/Users/zhangliang/vueWorkspace/vueblog/vueblog-vue/src/views/BlogEdit.vue","mtime":1640757654943},{"path":"/Users/zhangliang/vueWorkspace/vueblog/vueblog-vue/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhangliang/vueWorkspace/vueblog/vueblog-vue/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/zhangliang/vueWorkspace/vueblog/vueblog-vue/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/zhangliang/vueWorkspace/vueblog/vueblog-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhangliang/vueWorkspace/vueblog/vueblog-vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgogLm0tY29udGVudCB7CiAgIHRleHQtYWxpZ246IGNlbnRlcjsKIH0KLmVsLXNlbGVjdCB7CiAgd2lkdGg6IDI0MHB4OwogIG1hcmdpbi1yaWdodDogNTBweDsKfQogLmVsLWlucHV0IHsKICAgd2lkdGg6IDI0MHB4OwogICBtYXJnaW4tcmlnaHQ6IDUwcHg7CiB9Cg=="},{"version":3,"sources":["BlogEdit.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"BlogEdit.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <Header></Header>\n\n    <div class=\"m-content\">\n\n      <el-form :model=\"ruleForm\" :rules=\"rules\" ref=\"ruleForm\" label-width=\"100px\" class=\"demo-ruleForm\">\n        <el-form-item label=\"类别\" prop=\"conType\">\n          <el-select v-model=\"ruleForm.conType\" class=\"el-select\">\n            <el-option value=\"\">请选择</el-option>\n            <el-option v-for=\"item in dataList\" :value=\"item.typeCd\" :label=\"item.typeName\" :key=\"item.typeCd\"></el-option>\n          </el-select>\n        </el-form-item>\n\n        <el-form-item label=\"标题\" prop=\"title\" >\n          <el-input v-model=\"ruleForm.title\" class=\"el-input\"></el-input>\n        </el-form-item>\n\n        <el-form-item label=\"金额\" prop=\"conMoney\" >\n          <el-input-number v-model=\"ruleForm.conMoney\" :precision=\"2\" :step=\"1\" :min=\"0.01\" :max=\"1000000\" controls-position=\"right\" class=\"el-input\"></el-input-number>\n        </el-form-item>\n\n        <el-form-item label=\"时间\" prop=\"conTime\" >\n          <el-date-picker  v-model=\"ruleForm.conTime\" class=\"el-input\"\n          type=\"date\" value-format=\"yyyy-MM-dd\" aria-placeholder=\"选择日期\"></el-date-picker>\n        </el-form-item>\n\n        <el-form-item label=\"备注\" prop=\"remark\" >\n          <el-input type=\"textarea\" v-model=\"ruleForm.remark\" class=\"el-input\"></el-input>\n        </el-form-item>\n\n        <el-form-item>\n          <el-button type=\"primary\" @click=\"submitForm('ruleForm')\">确定</el-button>\n          <el-button @click=\"resetForm('ruleForm')\">清空</el-button>\n        </el-form-item>\n\n      </el-form>\n\n    </div>\n\n\n  </div>\n</template>\n\n<script>\n  import Header from \"../components/Header\";\n  import axios from \"axios\";\n  export default {\n    name: \"BlogEdit.vue\",\n    components: {Header},\n    data() {\n      return {\n        ruleForm: {\n          id: '',\n          title: '',\n          conMoney: '',\n          remark:'',\n          conType:'',\n          conTime:''\n        },\n        rules: {\n          title: [\n            { required: true, message: '请输入标题', trigger: 'blur' },\n            { min: 3, max: 25, message: '长度在 3 到 25 个字符', trigger: 'blur' }\n          ],\n          remark:[\n            { trequired:true,message:'请输入备注',trigger:'blur'}\n          ]\n        },\n        dataList: []\n      };\n    },\n    methods: {\n      submitForm(formName) {\n        this.$refs[formName].validate((valid) => {\n          if (valid) {\n\n            const _this = this\n            this.$axios.post('/record/edit', this.ruleForm, {\n              headers: {\n                \"Authorization\": localStorage.getItem(\"token\")\n              }\n            }).then(res => {\n              _this.$alert('操作成功', '提示', {\n                confirmButtonText: '确定',\n                callback: action => {\n                  _this.$router.push(\"/blogs\")\n                }\n              });\n\n            })\n\n          } else {\n            console.log('error submit!!');\n            return false;\n          }\n        });\n      },\n      resetForm(formName) {\n        this.$refs[formName].resetFields();\n      },\n      arrowDown() {\n        this.isShowSelect = !this.isShowSelect;\n      },\n      select(item, index) {\n        this.isShowSelect = false;\n        this.unitModel = index;\n        this.unitName = item.value;\n      },\n    },\n    created() {\n      axios.get('/conTypeList',{\n        headers: {\n          \"Authorization\": localStorage.getItem(\"token\")\n        }\n      }).then((res)=>{\n        var typeMap = res.data.data;\n        for (var typeCd in typeMap){\n        _this.dataList.push({typeCd: typeCd, typeName: typeMap[typeCd]})\n       }\n      })\n\n      const recordId = this.$route.params.recordId\n      console.log(recordId)\n      const _this = this\n      if(recordId) {\n        this.$axios.get('/record/' + recordId).then(res => {\n          const record = res.data.data\n          _this.ruleForm = record\n          _this.ruleForm.conMoney = record.conMoney\n        })\n      }\n\n    }\n\n  }\n\n</script>\n\n<style scoped>\n  .m-content {\n    text-align: center;\n  }\n .el-select {\n   width: 240px;\n   margin-right: 50px;\n }\n  .el-input {\n    width: 240px;\n    margin-right: 50px;\n  }\n</style>\n"]}]}